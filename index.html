<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema de Tarefas & CalendÃ¡rio</title>
    
    <!-- PWA Meta Tags -->
    <meta name="description" content="Sistema Profissional de Gerenciamento de Tarefas com Alarmes e NotificaÃ§Ãµes">
    <meta name="theme-color" content="#4f46e5">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="TaskFlow">
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json">
    
    <!-- Icons -->
    <link rel="icon" type="image/svg+xml" href="assets/icon.svg">
    <link rel="apple-touch-icon" href="assets/icon-192.png">
    
    <link rel="stylesheet" href="css/styles.css">
    <!-- Chart.js para grÃ¡ficos profissionais -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
</head>
<body>
    <!-- Sistema de Alarme Visual -->
    <div id="alerta" class="alerta">
        <div class="alerta-header">
            <h2 id="alertaTitulo">ğŸ”” Alarme</h2>
            <button class="alerta-close" onclick="alarmSystem.stopAlarm()">âœ•</button>
        </div>
        <p id="alertaMensagem">Mensagem do alarme</p>
        <button class="btn btn-danger alerta-btn" onclick="alarmSystem.stopAlarm()">â° Parar Alarme</button>
    </div>

    <!-- Ãudio do Alarme -->
    <audio id="somAlarme" preload="auto"></audio>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="header-content">
                <h1 class="logo">ğŸ“… TaskFlow</h1>
                <div class="header-actions">
                    <button class="btn btn-icon" id="themeToggle" title="Alternar tema">
                        <span class="theme-icon">ğŸŒ™</span>
                    </button>
                    <button class="btn btn-primary" id="openNotebook">ğŸ“˜ Caderno</button>
                    <button class="btn btn-secondary" id="openStats">ğŸ“Š EstatÃ­sticas</button>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="main-content">
        <div class="container">
            <!-- Filters and Actions -->
            <div class="toolbar">
                <div class="filters">
                    <button class="filter-btn active" data-filter="all">
                        Todas <span class="badge" id="badge-all">0</span>
                    </button>
                    <button class="filter-btn" data-filter="high">
                        ğŸ”´ Alta <span class="badge" id="badge-high">0</span>
                    </button>
                    <button class="filter-btn" data-filter="medium">
                        ğŸŸ  MÃ©dia <span class="badge" id="badge-medium">0</span>
                    </button>
                    <button class="filter-btn" data-filter="low">
                        ğŸŸ¢ Baixa <span class="badge" id="badge-low">0</span>
                    </button>
                </div>
                <div class="actions">
                    <button class="btn btn-success" id="exportReport">ğŸ“„ Exportar RelatÃ³rio</button>
                    <button class="btn btn-info" id="backupData">ğŸ’¾ Backup</button>
                    <button class="btn btn-warning" id="importData">ğŸ“¥ Importar</button>
                    <input type="file" id="importFile" accept=".json" class="hidden-input" title="Importar arquivo de backup" aria-label="Importar arquivo de backup">
                </div>
            </div>

            <!-- Calendar Section -->
            <div class="calendar-section">
                <div class="calendar-header">
                    <button class="btn-nav" id="prevMonth">â—€</button>
                    <h2 class="current-month" id="currentMonth">MÃªs Ano</h2>
                    <button class="btn-nav" id="nextMonth">â–¶</button>
                    <button class="btn btn-small" id="todayBtn">Hoje</button>
                </div>
                <div class="calendar" id="calendar">
                    <div class="calendar-weekdays">
                        <div class="weekday">Dom</div>
                        <div class="weekday">Seg</div>
                        <div class="weekday">Ter</div>
                        <div class="weekday">Qua</div>
                        <div class="weekday">Qui</div>
                        <div class="weekday">Sex</div>
                        <div class="weekday">SÃ¡b</div>
                    </div>
                    <div class="calendar-days" id="calendarDays">
                        <!-- Days will be generated by JavaScript -->
                    </div>
                </div>
            </div>

            <!-- Tasks Summary -->
            <div class="summary-section">
                <h3>ğŸ“ Resumo do MÃªs</h3>
                <div class="summary-cards">
                    <div class="summary-card">
                        <span class="summary-label">Total de Tarefas</span>
                        <span class="summary-value" id="totalTasks">0</span>
                    </div>
                    <div class="summary-card">
                        <span class="summary-label">ğŸ”´ Alta Prioridade</span>
                        <span class="summary-value" id="highPriorityTasks">0</span>
                    </div>
                    <div class="summary-card">
                        <span class="summary-label">ğŸŸ  MÃ©dia Prioridade</span>
                        <span class="summary-value" id="mediumPriorityTasks">0</span>
                    </div>
                    <div class="summary-card">
                        <span class="summary-label">ğŸŸ¢ Baixa Prioridade</span>
                        <span class="summary-value" id="lowPriorityTasks">0</span>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Task Modal -->
    <div class="modal" id="taskModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>ğŸ“ Tarefa do Dia</h2>
                <button class="btn-close" id="closeModal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label for="taskDate">Data da Tarefa *</label>
                    <input type="text" id="taskDate" readonly>
                </div>
                <div class="form-group">
                    <label for="taskTime">HorÃ¡rio da Tarefa *</label>
                    <input type="time" id="taskTime" class="task-time-input" required>
                    <small class="field-hint">â° Defina o horÃ¡rio exato da tarefa</small>
                </div>
                <div class="form-group">
                    <label for="taskText">Tarefa / ObservaÃ§Ã£o *</label>
                    <textarea id="taskText" rows="4" placeholder="Descreva sua tarefa..."></textarea>
                </div>
                <div class="form-group">
                    <label>Prioridade *</label>
                    <div class="priority-buttons">
                        <button class="priority-btn" data-priority="high">ğŸ”´ Alta</button>
                        <button class="priority-btn" data-priority="medium">ğŸŸ  MÃ©dia</button>
                        <button class="priority-btn" data-priority="low">ğŸŸ¢ Baixa</button>
                    </div>
                </div>
                <div class="form-group alarm-section">
                    <label class="alarm-label">
                        <input type="checkbox" id="enableAlarm" class="alarm-checkbox">
                        â° Definir Lembrete (Alarme)
                    </label>
                    <div id="alarmFields" class="alarm-fields hidden">
                        <div class="alarm-description">
                            <p>ğŸ“Œ O alarme serÃ¡ baseado no <strong>horÃ¡rio da tarefa</strong> definido acima.</p>
                            <p>Escolha quando deseja ser avisado:</p>
                        </div>
                        <div class="alarm-quick-actions">
                            <button type="button" class="btn-quick-alarm" data-minutes="0">
                                ğŸ”” No horÃ¡rio exato
                            </button>
                            <button type="button" class="btn-quick-alarm" data-minutes="15">
                                â° 15 min antes
                            </button>
                            <button type="button" class="btn-quick-alarm" data-minutes="30">
                                â° 30 min antes
                            </button>
                            <button type="button" class="btn-quick-alarm" data-minutes="60">
                                â° 1 hora antes
                            </button>
                            <button type="button" class="btn-quick-alarm" data-minutes="120">
                                â° 2 horas antes
                            </button>
                        </div>
                        <div id="alarmPreview" class="alarm-preview hidden">
                            <strong>ğŸ”” Alarme agendado para:</strong>
                            <span id="alarmPreviewTime"></span>
                        </div>
                        <input type="hidden" id="alarmMinutesBefore" value="">
                        <small class="alarm-info">ğŸ’¡ VocÃª receberÃ¡ notificaÃ§Ã£o com som e alerta visual</small>
                    </div>
                </div>
                <div class="existing-tasks" id="existingTasks">
                    <!-- Existing tasks will be displayed here -->
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" id="cancelTask">Cancelar</button>
                <button class="btn btn-primary" id="saveTask">ğŸ’¾ Salvar</button>
            </div>
        </div>
    </div>

    <!-- Notebook Modal -->
    <div class="modal" id="notebookModal">
        <div class="modal-content modal-large">
            <div class="modal-header">
                <h2>ğŸ“˜ Caderno de AnotaÃ§Ãµes</h2>
                <button class="btn-close" id="closeNotebook">&times;</button>
            </div>
            <div class="modal-body">
                <div class="notebook-toolbar">
                    <button class="btn btn-small" id="clearNotebook">ğŸ—‘ï¸ Limpar</button>
                    <button class="btn btn-small btn-success" id="sendWhatsApp">ğŸ“± Enviar WhatsApp</button>
                    <button class="btn btn-small" id="exportNotebookPDF">ğŸ“„ Exportar PDF</button>
                    <button class="btn btn-small" id="exportNotebookTXT">ğŸ“ Exportar TXT</button>
                </div>
                
                <!-- Modal de WhatsApp -->
                <div id="whatsappModal" class="whatsapp-prompt hidden-modal">
                    <div class="whatsapp-prompt-content">
                        <h4>ğŸ“± Enviar para WhatsApp</h4>
                        <p>Digite o nÃºmero com DDD (apenas nÃºmeros):</p>
                        <div class="whatsapp-input-group">
                            <span class="country-code">+55</span>
                            <input type="tel" id="whatsappNumber" placeholder="11999999999" maxlength="11" class="whatsapp-input">
                        </div>
                        <small class="whatsapp-hint">ğŸ’¡ Exemplo: 11999999999 (DDD + nÃºmero)</small>
                        <div class="whatsapp-buttons">
                            <button class="btn btn-secondary btn-small" id="cancelWhatsApp">Cancelar</button>
                            <button class="btn btn-success btn-small" id="confirmWhatsApp">âœ… Enviar</button>
                        </div>
                    </div>
                </div>
                
                <textarea id="notebookText" class="notebook-textarea" placeholder="Escreva suas anotaÃ§Ãµes aqui..."></textarea>
                <div class="notebook-info">
                    <span id="charCount">0 caracteres</span>
                    <span id="wordCount">0 palavras</span>
                    <span id="lastSaved">NÃ£o salvo</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Statistics Modal -->
    <div class="modal" id="statsModal">
        <div class="modal-content modal-large">
            <div class="modal-header">
                <h2>ğŸ“Š EstatÃ­sticas</h2>
                <button class="btn-close" id="closeStats">&times;</button>
            </div>
            <div class="modal-body">
                <div class="stats-grid">
                    <div class="stat-card">
                        <h3>ğŸ“… Total de Dias com Tarefas</h3>
                        <div class="stat-value" id="statDaysWithTasks">0</div>
                    </div>
                    <div class="stat-card">
                        <h3>ğŸ“ Total de Tarefas</h3>
                        <div class="stat-value" id="statTotalTasks">0</div>
                    </div>
                    <div class="stat-card">
                        <h3>ğŸ”´ Tarefas de Alta Prioridade</h3>
                        <div class="stat-value" id="statHighPriority">0</div>
                    </div>
                    <div class="stat-card">
                        <h3>ğŸŸ  Tarefas de MÃ©dia Prioridade</h3>
                        <div class="stat-value" id="statMediumPriority">0</div>
                    </div>
                    <div class="stat-card">
                        <h3>ğŸŸ¢ Tarefas de Baixa Prioridade</h3>
                        <div class="stat-value" id="statLowPriority">0</div>
                    </div>
                    <div class="stat-card">
                        <h3>ğŸ“ˆ MÃ©dia de Tarefas por Dia</h3>
                        <div class="stat-value" id="statAverage">0</div>
                    </div>
                </div>
                <div class="chart-container">
                    <h3>DistribuiÃ§Ã£o de Prioridades</h3>
                    <div class="priority-chart" id="priorityChart">
                        <div class="chart-bar" id="chartHigh">
                            <div class="chart-fill high"></div>
                            <span class="chart-label">Alta: <span id="chartHighValue">0</span>%</span>
                        </div>
                        <div class="chart-bar" id="chartMedium">
                            <div class="chart-fill medium"></div>
                            <span class="chart-label">MÃ©dia: <span id="chartMediumValue">0</span>%</span>
                        </div>
                        <div class="chart-bar" id="chartLow">
                            <div class="chart-fill low"></div>
                            <span class="chart-label">Baixa: <span id="chartLowValue">0</span>%</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Toast Notification -->
    <div class="toast" id="toast">
        <span id="toastMessage"></span>
    </div>

    <!-- Quick Command Palette -->
    <div class="command-palette" id="commandPalette">
        <div class="command-palette-content">
            <input type="text" id="commandInput" placeholder="Digite um comando... (Ctrl+K)" autocomplete="off">
            <div class="command-suggestions" id="commandSuggestions"></div>
        </div>
    </div>

    <!-- Progress Bar -->
    <div class="progress-bar" id="progressBar">
        <div class="progress-fill" id="progressFill"></div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-info">
                    <p class="footer-developer">
                        <span class="footer-icon">ğŸ‘¨â€ğŸ’»</span>
                        Desenvolvido por <strong>Carlos Antonio de Oliveira Piquet</strong>
                    </p>
                    <p class="footer-title">
                        Especialista em InteligÃªncia Artificial â€¢ Estudante de Redes de Computadores
                    </p>
                </div>
                <div class="footer-legal">
                    <p class="footer-copyright">
                        Â© 2025 TaskFlow. Todos os direitos reservados.
                    </p>
                    <p class="footer-license">
                        <a href="#" id="viewLicense">ğŸ“„ LicenÃ§a de Uso</a>
                    </p>
                </div>
            </div>
        </div>
    </footer>

    <!-- License Modal -->
    <div class="modal" id="licenseModal">
        <div class="modal-content modal-large">
            <div class="modal-header">
                <h2>ğŸ“„ LicenÃ§a de Uso e Termos</h2>
                <button class="btn-close" id="closeLicense">&times;</button>
            </div>
            <div class="modal-body license-body">
                <h3>LICENÃ‡A PROPRIETÃRIA - TASKFLOW</h3>
                <p class="license-version">VersÃ£o 1.0 - Novembro de 2025</p>
                
                <section class="license-section">
                    <h4>1. PROPRIEDADE INTELECTUAL</h4>
                    <p>Este software TaskFlow Ã© propriedade exclusiva de <strong>Carlos Antonio de Oliveira Piquet</strong>. Todos os direitos autorais, marcas comerciais e direitos de propriedade intelectual sÃ£o reservados.</p>
                </section>

                <section class="license-section">
                    <h4>2. CONCESSÃƒO DE LICENÃ‡A</h4>
                    <p>Ã‰ concedida uma licenÃ§a limitada, nÃ£o exclusiva e intransferÃ­vel para uso pessoal ou comercial, sujeita aos termos e condiÃ§Ãµes desta licenÃ§a.</p>
                </section>

                <section class="license-section">
                    <h4>3. PERMISSÃ•ES</h4>
                    <ul>
                        <li>âœ… Uso pessoal e comercial do software</li>
                        <li>âœ… ModificaÃ§Ã£o do cÃ³digo para uso prÃ³prio</li>
                        <li>âœ… IntegraÃ§Ã£o em projetos internos</li>
                        <li>âœ… CustomizaÃ§Ã£o de interface e funcionalidades</li>
                    </ul>
                </section>

                <section class="license-section">
                    <h4>4. RESTRIÃ‡Ã•ES</h4>
                    <ul>
                        <li>âŒ RedistribuiÃ§Ã£o do cÃ³digo-fonte sem autorizaÃ§Ã£o</li>
                        <li>âŒ Venda ou sublicenciamento do software</li>
                        <li>âŒ RemoÃ§Ã£o de avisos de copyright e autoria</li>
                        <li>âŒ Uso da marca "TaskFlow" sem permissÃ£o</li>
                        <li>âŒ Engenharia reversa para cÃ³pia comercial</li>
                    </ul>
                </section>

                <section class="license-section">
                    <h4>5. ATRIBUIÃ‡ÃƒO OBRIGATÃ“RIA</h4>
                    <p>Qualquer uso ou redistribuiÃ§Ã£o DEVE manter a atribuiÃ§Ã£o ao autor original:</p>
                    <p class="attribution-box">
                        "Desenvolvido por Carlos Antonio de Oliveira Piquet<br>
                        Especialista em InteligÃªncia Artificial<br>
                        Estudante de Redes de Computadores"
                    </p>
                </section>

                <section class="license-section">
                    <h4>6. ISENÃ‡ÃƒO DE GARANTIAS</h4>
                    <p>Este software Ã© fornecido "como estÃ¡", sem garantias de qualquer tipo, expressas ou implÃ­citas. O autor nÃ£o se responsabiliza por danos diretos, indiretos, incidentais ou consequenciais resultantes do uso ou incapacidade de uso deste software.</p>
                </section>

                <section class="license-section">
                    <h4>7. PROTEÃ‡ÃƒO LEGAL</h4>
                    <p>Este software estÃ¡ protegido pelas leis de direitos autorais brasileiras e internacionais. ViolaÃ§Ãµes desta licenÃ§a estÃ£o sujeitas a aÃ§Ãµes legais e penalidades civis e criminais conforme a Lei nÂº 9.610/98 (Lei de Direitos Autorais) e Lei nÂº 9.609/98 (Lei do Software).</p>
                </section>

                <section class="license-section">
                    <h4>8. USO COMERCIAL</h4>
                    <p>Para uso comercial em larga escala, licenciamento corporativo ou OEM, entre em contato com o autor para negociaÃ§Ã£o de termos especÃ­ficos.</p>
                </section>

                <section class="license-section">
                    <h4>9. ATUALIZAÃ‡Ã•ES</h4>
                    <p>O autor reserva-se o direito de modificar esta licenÃ§a a qualquer momento. UsuÃ¡rios serÃ£o notificados de mudanÃ§as significativas.</p>
                </section>

                <section class="license-section">
                    <h4>10. CONTATO</h4>
                    <p>Para questÃµes sobre licenciamento, permissÃµes especiais ou suporte empresarial, entre em contato atravÃ©s do repositÃ³rio oficial em GitHub.</p>
                </section>

                <div class="license-footer">
                    <p><strong>TaskFlow Â© 2025 - Carlos Antonio de Oliveira Piquet</strong></p>
                    <p>Todos os direitos reservados.</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="js/performance.js"></script>
    <script src="js/loading.js"></script>
    <script src="js/database.js"></script>
    <script src="js/alarm.js"></script>
    <script src="js/themes.js"></script>
    <script src="js/dashboard.js"></script>
    <script src="js/integration.js"></script>
    <script src="js/script.js"></script>
    
    <!-- PWA Install Manager -->
    <script src="js/pwa-install.js"></script>
    
    <!-- IntegraÃ§Ã£o Electron (sÃ³ carrega se for desktop) -->
    <script src="electron-integration.js"></script>
    
    <!-- Initialize Performance Monitoring -->
    <script>
        if (typeof performanceMonitor !== 'undefined') {
            performanceMonitor.init();
        }
    </script>
</body>
</html>
